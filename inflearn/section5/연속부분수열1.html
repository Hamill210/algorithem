<html>
<head>
    <meta charset="UTF-8">
    <title>출력결과</title>
</head>
<body>
<script>
  function solution(m, arr){
    let answer = 0;
    let n = arr.length;
    let p1=p2=0;
    let sum = 0;

    while (p1 < n) {
      sum += arr[p1];
      p2 = p1 + 1;

      while (p2 < n) {
        if (sum + arr[p2] === m) {
          answer++;
          break;
        } else if (sum + arr[p2] < m) {
          sum += arr[p2];
          p2++;
        } else {
          break;
        }
      }
      p1++;
      sum = 0;
    }
    return answer;
  }

  function solution2(m, arr) {
    let answer = 0;
    let n = arr.length;
    let lt=rt=0;
    let sum = 0;

    for (let i = 0; i < n; i++) {
      if (sum === m) {
        answer++;
        sum -= arr[lt++];
      }

      if (sum < m) {
        sum += arr[rt];
        if (sum === m) {
          answer++;
          sum -= arr[lt++];
          continue;
        }
        rt++;
      } else {
        sum -= arr[lt++];
      }
    }
    return answer;
  }

  function solution3(m, arr) {
    let answer = 0, lt = 0, sum = 0;
    let n = arr.length;
    for (let rt = 0; rt < n; rt++) {
      sum += arr[rt];
      if (sum === m) answer++;
      while (sum >= m) {
        sum -= arr[lt++];
        if (sum === m) answer++;
      }
    }
    return answer;
  }

  let arr = [1, 2, 1, 3, 1, 1, 1, 2];
  console.log(solution(7, arr));
  console.log(solution2(7, arr));
</script>
</body>
</html>